{% extends "startpage/base.html" %}
<!--
<body>
    <div class="container">
      <div class="page-header">
        <h1>EKG</h1>
          <div class="container">
            <div class="row">
              <div class="col col-lg" >
                  <div class="content-section">
                      <h4>Informationen</h4>
                      <div class="col">
                          <label for="customRange1">Herzfrequenz</label>
                          <textarea>0</textarea>
                          <input type="range" class="custom-range" id="customRange1">
                      </div>
                  </div>
              </div>
                <div class="col-md">
                  <div class="col" >
                    <h4>EKG- Signal</h4>
                      <div class="row">
                          {% for f in list %}
                            <p>Image: <img src="{% url 'ekg-to-png' pk=f.recordname %}"></p>
                          {% endfor %}
                      </div>
                  </div>
              </div>
            </div>
            </div>
          </div>
      </div>
    </div>

</body>-->


{% block content %}
<form method="POST" action="comparison/">
    <div class="container-fluid">
        {% csrf_token %}
        {% for f in list %}
        <div class="row">
            <div class="col-md-6 col-sm-6">
                <h3>EKG Signal: &nbsp;&nbsp; </h3>
                <h3>{{f.recordname}}</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 col-sm-6">
                <h6>Datum:&nbsp;&nbsp; </h6>
                <h6>{{f.datum}}</h6>
            </div>
        </div>
        <div class="row">
            <h6>Uhrzeit: &nbsp;&nbsp;</h6>
            <h6>{{f.uhrzeit}}</h6>
        </div>
        <div class="row">
            <h6>Number of channels:&nbsp;&nbsp; </h6>
            <h6>{{f.channels}}</h6>
        </div>
        <div class="row">
            <h6>Samplerate: &nbsp;&nbsp;</h6>
            <h6>{{f.samplerate}}</h6>
        </div>
        <div class="row">
            <h6>ADC-Gain: &nbsp;&nbsp;</h6>
            <h6>{{f.adcgain}}</h6>
        </div>
        <div class="row">
            <h6>Comments: &nbsp;&nbsp;</h6>
            <h6>{{f.comments}}</h6>
        </div>
        <div class="row">
            {% autoescape off %}
            {{plot_div}}
            {% endautoescape %}
        </div>
        <p></p>
        {% for r in results %}
        <p>
        <h4>Results for Channel {{r.channel}} </h4>
        Puls: &nbsp;&nbsp;{{r.puls}}<br/>
        Average time in seconds between R peaks: &nbsp;&nbsp;{{r.avgsec}}<br/>
        Average samples between R peaks: &nbsp;&nbsp;{{r.avgsamp}}<br/>
        Average peak value:&nbsp;&nbsp;{{r.avgr}}<br/>
        <b>Predicted conditions:<br/></b>
        Bradykardie: &nbsp;&nbsp;{{r.bradykardie}}<br/>
        Tachykardie:&nbsp;&nbsp;{{r.tachykardie}}<br/>
        Kammerflimmern:&nbsp;&nbsp;{{r.kammerflimmern}}<br/>
        Arrythmie:&nbsp;&nbsp;{{r.arrythmie}}
        </p>
        {% endfor %}
    </div>
    <div class="row">
        <h6>Data Download (choose format):</h6>
        <ul>
            <li><a href="{% url 'ekg_download' format='csv' value=pk %}">Comma-seperated values</a></li>
            <li><a href="{% url 'ekg_download' format='ssv' value=pk %}">Semicolon-seperated values</a></li>
            <li><a href="{% url 'ekg_download' format='tsv' value=pk %}">Tab-separated values </a></li>
            <li><a href="{% url 'ekg_download' format='smoothed' value=pk %}">Tab-seperated values (smoothed)</a></li>
            <li><a href="{% url 'ekg_download' format='json' value=pk %}">JSON </a></li>
            <!--<li><a href="{% url 'ekg_download' format='xml' value=pk %}">XML </a></li>-->
        </ul>
    </div>
    <p></p>
    <h1></h1>
    <div class="row">
        <div class="row">
            <h4>Compare this file:</h4>
            <p>Input the names of the files you want to compare this file to below and separate them with commas.<br/>
                Press the button to start the comparison
            </p>
            <p>Available files:</p>
        </div>
        <div class="row">
            <div class="form-group" id="auswahl_select">
                <div class="panel-body">
                    <style>
                        .form-control{
                            height: 200px;
                            width: 200px;
                        }
                    </style>
                    <div class="box">
                        <select multiple class="form-control" disabled>
                            {% for dL in dataLists %}
                            <option>{{dL.e_recordName}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <input id="inputfield" type="text" name="textfield" required/>
    <button id="submitbutton" type="">start comparison</button>

    </div>
    <p></p>
    {% endfor %}
</form>
{% endblock content %}